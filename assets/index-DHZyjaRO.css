:root{--grid-cell-size: 28px;--piece-block-size: 28px;--grid-gap: 2px;--grid-step: calc(var(--grid-cell-size) + var(--grid-gap));--icon-size: 60px;--theme-toggle-mobile: 36px;--theme-toggle-tablet: 48px;--theme-toggle-desktop: 56px;--container-mobile: 340px;--container-desktop: 380px;--container-max-desktop: 600px;--stat-min-width: 70px;--mode-button-min-width: 250px;--modal-min-width: 280px;--modal-max-width: 400px;--header-button-size: 32px;--progress-bar-height: 8px;--tooltip-size: 16px;--fab-button-size: 56px;--bg-main: linear-gradient(135deg, #1e3a8a, #06b6d4);--bg-gradient-main: linear-gradient(135deg, #ff0080 0%, #ff8c00 25%, #ffd700 50%, #00bfff 75%, #764ba2 100%);--text-primary: #ffffff;--text-secondary: rgba(255, 255, 255, .8);--glass-bg: rgba(0, 0, 0, .35);--glass-border: rgba(255, 255, 255, .4);--logo-shadow: rgba(0, 0, 0, .2);--footer-text: rgba(255, 255, 255, .6);--button-classic-bg: #14b8a6;--button-classic-dark: #0f766e;--button-collection-bg: #8b5cf6;--button-collection-dark: #6d28d9;--padding-base: 8px;--font-size-h1: 2.5em;--font-size-score: 1.5em;--border-radius-base: 8px;--glass-blur: 8px;--font-family-main: system-ui, -apple-system, "Segoe UI", "Poppins", Roboto, sans-serif}@media (min-width: 769px){:root{--grid-cell-size: 48px;--header-button-size: 42px}}body[data-theme=dark]{--bg-main: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #16213e 75%, #1a1a2e 100%);--bg-gradient-main: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #16213e 75%, #1a1a2e 100%);--text-primary: #e6f4ff;--text-secondary: rgba(198, 230, 255, .78);--glass-bg: rgba(12, 26, 48, .9);--glass-border: rgba(135, 206, 235, .35);--logo-shadow: rgba(10, 40, 80, .55);--footer-text: rgba(168, 212, 255, .75);--button-classic-bg: #1d4ed8;--button-classic-dark: #0b2d6b;--button-collection-bg: #6d28d9;--button-collection-dark: #4c1d95;--glass-blur: 12px;--ghost-fill-color: rgba(120,180,255,.12);--ghost-border-color: rgba(120,180,255,.95);--ghost-glow-color: rgba(120,180,255,.55)}.grid-cell.highlight,.grid-cell.invalid-highlight,.grid-cell.ghost{will-change:background,box-shadow,opacity}body:not([data-theme=dark]) .grid-cell.ghost{background:linear-gradient(180deg,rgba(0,255,127,.2),transparent)!important;box-shadow:0 0 0 2px #00ff7fe6,0 0 14px #00ff7f99!important}body[data-theme=dark] .grid-cell.ghost{background:linear-gradient(180deg,rgba(120,180,255,.12),transparent)!important;box-shadow:0 0 0 2px #78b4fff2,0 0 14px #78b4ff8c!important}.grid-cell-block.ghost{will-change:background,box-shadow,opacity;opacity:.5!important;border-radius:25%!important}body:not([data-theme=dark]) .grid-cell-block.ghost{opacity:.55!important;box-shadow:0 0 0 2px #00ff7fe6,0 0 12px #00ff7f80!important}body[data-theme=dark] .grid-cell-block.ghost{opacity:.55!important;box-shadow:0 0 0 2px #78b4fff2,0 0 12px #78b4ff80!important}.piece.dragging{opacity:0!important;visibility:hidden!important}.settings-modal{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;pointer-events:auto;z-index:1000;display:flex;align-items:center;justify-content:center}.settings-modal-content{background:#181818fa;color:#fffbe6;border-radius:18px;padding:32px 24px 24px;min-width:var(--modal-min-width);max-width:90vw;box-shadow:0 8px 32px #0000004d;border:1px solid rgba(255,255,255,.12);position:relative;display:flex;flex-direction:column;gap:18px;align-items:stretch;pointer-events:auto;z-index:1001}.settings-modal-content h2{margin:0 0 12px;font-size:1.4em;text-align:center;color:gold}.settings-option{display:flex;align-items:center;justify-content:space-between;font-size:1.1em;padding:8px 0;border-bottom:1px solid #333}.settings-option:last-child{border-bottom:none}.settings-close{position:absolute;top:12px;right:16px;background:none;border:none;color:gold;font-size:2em;cursor:pointer;transition:color .2s}.settings-close:hover{color:#fffbe6}@keyframes score-pulse{0%{transform:scale(1);text-shadow:0 1px 4px rgba(255,251,230,.4)}50%{transform:scale(1.08);text-shadow:0 6px 18px rgba(255,251,230,.8)}to{transform:scale(1);text-shadow:0 2px 8px #fffbe6,0 1px 0 #fff}}.score-pulse{animation:score-pulse .5s cubic-bezier(.4,0,.2,1)}.center-score-wrapper{width:100%;display:flex;justify-content:center;align-items:center;margin:0}.center-score{display:flex;justify-content:center;padding:8px 14px;position:relative;isolation:isolate;border-radius:16px;overflow:hidden}.center-score:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(180deg,#ffffff1f,#ffffff0f);border:1px solid rgba(255,255,255,.22);border-radius:inherit;box-shadow:0 5px 15px #0003,inset 0 1px 1px #fff3;z-index:0}.center-score:after{content:"";position:absolute;top:-10%;left:-40%;width:70%;height:140%;transform:rotate(12deg);background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.45) 50%,transparent 100%);filter:blur(3px);z-index:1;animation:scoreSheen 7s ease-in-out infinite;pointer-events:none}@keyframes scoreSheen{0%{left:-40%;opacity:0}20%{opacity:.55}50%{left:85%;opacity:.35}80%{opacity:.6}to{left:110%;opacity:0}}.center-score .score-display{position:relative;z-index:2}@media (prefers-reduced-motion: reduce){.center-score:after{animation:none;opacity:.35}}.score-display{font-family:Nunito,sans-serif;font-size:3.5rem;font-weight:900;line-height:1;background:var(--score-gradient, linear-gradient(135deg, #FFD700, #FBBF24, #FFA500));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 2px 0 rgba(255,255,255,.06),0 6px 18px rgba(0,0,0,.28),0 0 18px var(--score-glow, rgba(255,215,0,.35));-webkit-text-stroke:.6px rgba(0,0,0,.25);position:relative;transition:transform .18s ease-out,font-size .18s ease;margin:12px 0}@keyframes score-pop{0%{transform:scale(1)}40%{transform:scale(1.12)}to{transform:scale(1)}}.score-animated{animation:score-pop .3s ease-out}.score-display:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(255,255,255,.5) 18%,transparent 45%);-webkit-background-clip:text;background-clip:text;color:transparent;transform:skew(-12deg) translate(4px)}@media (min-width: 769px) and (max-width: 1024px){.score-display{font-size:3.2rem;margin:12px 0}}@media (min-width: 1025px){.score-display{font-size:4.8rem;margin:14px 0}}.game-over-score p{margin:5px 0;font-size:1.1em;color:#fffbe6}.grid-cell.hint-highlight{animation:hint-pulse 1.5s ease-in-out;border:2px solid var(--hint-border-color, #FFD700);box-shadow:0 0 15px var(--hint-glow-color, rgba(255, 215, 0, .7));z-index:10}.grid-cell.hint-best{--hint-border-color: #00FF7F;--hint-glow-color: rgba(0, 255, 127, .8);background:linear-gradient(135deg,#00ff7f4d,#00ff7f1a)}.grid-cell.hint-combo{--hint-border-color: #FF4500;--hint-glow-color: rgba(255, 69, 0, .8);background:linear-gradient(135deg,#ff45004d,#ff45001a);animation:hint-combo-pulse 1.2s ease-in-out infinite}.grid-cell.hint-good{--hint-border-color: #1E90FF;--hint-glow-color: rgba(30, 144, 255, .8);background:linear-gradient(135deg,#1e90ff4d,#1e90ff1a)}.grid-cell.hint-defensive{--hint-border-color: #9370DB;--hint-glow-color: rgba(147, 112, 219, .8);background:linear-gradient(135deg,#9370db4d,#9370db1a)}.grid-cell.hint-safe{--hint-border-color: #FFB347;--hint-glow-color: rgba(255, 179, 71, .8);background:linear-gradient(135deg,#ffb3474d,#ffb3471a)}.grid-cell.hint-ok{--hint-border-color: #FFD700;--hint-glow-color: rgba(255, 215, 0, .7);background:linear-gradient(135deg,#ffd70033,#ffd7001a)}@keyframes hint-pulse{0%{transform:scale(1);opacity:.7}50%{transform:scale(1.05);opacity:1;box-shadow:0 0 25px var(--hint-glow-color)}to{transform:scale(1);opacity:.9}}@keyframes hint-combo-pulse{0%,to{transform:scale(1);box-shadow:0 0 15px var(--hint-glow-color)}50%{transform:scale(1.08);box-shadow:0 0 30px var(--hint-glow-color),0 0 40px #ff450066}}.unlock-notification{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);background:linear-gradient(135deg,#667eea,#764ba2);border:3px solid #ffd700;border-radius:15px;padding:30px;max-width:var(--modal-max-width);z-index:10000;opacity:0;transition:all .5s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 20px 40px #0000004d}.unlock-notification.show{transform:translate(-50%,-50%) scale(1);opacity:1}.unlock-notification.unlock-bronze{background:linear-gradient(135deg,#cd7f32,sienna);border-color:#cd7f32}.unlock-notification.unlock-silver{background:linear-gradient(135deg,silver,gray);border-color:silver}.unlock-notification.unlock-gold{background:linear-gradient(135deg,gold,#ffb347);border-color:gold}.unlock-notification.unlock-platinum{background:linear-gradient(135deg,#e5e4e2,#b38b6d);border-color:#e5e4e2}.unlock-content h3{margin:0 0 15px;font-size:24px;font-weight:700;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5);text-align:center}.unlock-content p{margin:0;font-size:18px;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.5);text-align:center;line-height:1.4}.unlock-progress{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffff1f;border:1px solid rgba(255,255,255,.3);border-radius:16px;padding:24px;text-align:center;z-index:10000!important;min-width:var(--modal-min-width);box-shadow:0 4px 16px #1f268740}.unlock-progress h4{color:gold;margin:0 0 15px;font-size:18px;font-weight:700}.progress-bar{width:100%;height:var(--progress-bar-height);background:#fff3;border-radius:4px;overflow:hidden;margin:10px 0}.progress-fill{height:100%;background:linear-gradient(90deg,gold,orange);border-radius:4px;transition:width .3s ease}.progress-text{color:#fff;font-size:14px;margin:5px 0}.action-buttons{position:fixed;bottom:0;left:0;width:100%;box-sizing:border-box;z-index:1000;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:16px 12px;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border-top:none}.action-buttons button{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px 6px;border-radius:12px;background:linear-gradient(135deg,#ffffff2e,#ffffff14);border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 24px #0006,inset 0 1px 1px #fff3,inset 0 -2px 2px #0000001a;color:#ffffffe6;font-family:var(--font-family-main);cursor:pointer;transition:all .4s cubic-bezier(.32,.08,.24,1);position:relative;overflow:hidden;will-change:transform,box-shadow}.action-buttons button i{font-size:20px;margin-bottom:4px;transition:all .4s ease;text-shadow:0 1px 2px rgba(0,0,0,.2)}.action-buttons button:not(:disabled):hover{background:linear-gradient(135deg,#ffffff40,#c8dcff26);transform:translateY(-6px);box-shadow:0 12px 30px #5078ff4d,inset 0 2px 4px #ffffff4d,inset 0 -1px 1px #0000000d;color:#fff;border-color:#ffffff59}.action-buttons button:not(:disabled):hover i{transform:scale(1.25) translateY(-2px);filter:drop-shadow(0 2px 4px rgba(100,150,255,.5))}.action-buttons button:disabled{background:#32324626;color:#ffffff40;cursor:not-allowed;border:1px solid rgba(255,255,255,.05);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.action-buttons button span{font-size:10px;font-weight:900;line-height:1;background:#ff4757!important;color:#fff!important;border-radius:50%;padding:0;width:var(--tooltip-size);height:var(--tooltip-size);position:absolute;top:1px;right:1px;border:2px solid white;box-shadow:0 2px 8px #ff4757e6,0 1px 3px #000000b3;transition:all .3s cubic-bezier(.34,1.56,.64,1);z-index:999!important;display:flex!important;align-items:center;justify-content:center;text-shadow:none;font-family:Arial,sans-serif!important;pointer-events:none}.action-buttons button:not(:disabled):hover span{transform:scale(1.2) translate(1px,-1px);box-shadow:0 4px 12px #ff4757,0 2px 6px #000c;background:#ff3742!important}.action-buttons button:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);opacity:0;transition:opacity .4s ease}.action-buttons button:not(:disabled):hover:after{opacity:.6}@keyframes gradient-animation{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}#landingPage.fade-out{opacity:0;transform:translateY(-20px);pointer-events:none;visibility:hidden}.header-controls{display:flex;flex-direction:column;align-items:center;gap:12px;margin:12px 0 8px;padding-top:8px}.top-row-controls{display:flex;justify-content:space-between;align-items:center;width:calc(100% - 16px);max-width:var(--modal-max-width);gap:12px;flex-wrap:nowrap;margin:0 auto}.game-container .header-controls .top-row-controls button,body:not(.landing-page) .header-controls .top-row-controls button{background:linear-gradient(135deg,#ffffff2e,#ffffff14)!important;border:1px solid rgba(255,255,255,.25)!important;border-radius:12px!important;padding:6px 8px!important;color:#fffffff2!important;cursor:pointer!important;transition:all .3s cubic-bezier(.32,.08,.24,1)!important;box-shadow:0 4px 16px #0003,inset 0 1px 1px #ffffff40,0 0 10px #ffffff0d!important;position:relative!important;overflow:hidden!important;min-width:var(--header-button-size)!important;height:var(--header-button-size)!important;display:flex!important;align-items:center!important;justify-content:center!important;will-change:transform,background!important}.top-row-controls .header-btn{opacity:1;pointer-events:auto;transition:opacity .3s ease}.top-row-controls .header-btn.hidden{opacity:0!important;pointer-events:none!important}.game-container .header-controls .top-row-controls button:before,body:not(.landing-page) .header-controls .top-row-controls button:before{content:""!important;position:absolute!important;top:0!important;left:-100%!important;width:100%!important;height:100%!important;background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),rgba(255,255,255,.4),rgba(255,255,255,.25),transparent)!important;transition:left .6s ease!important;z-index:1!important;pointer-events:none!important}.game-container .header-controls .top-row-controls button:hover,body:not(.landing-page) .header-controls .top-row-controls button:hover{background:linear-gradient(135deg,#ffffff4d,#fff3)!important;transform:translateY(-2px) scale(1.05)!important;box-shadow:0 8px 25px #0000004d,inset 0 1px 1px #fff6,0 0 20px #ffffff26!important;border-color:#fff6!important;backdrop-filter:blur(15px)!important;-webkit-backdrop-filter:blur(15px)!important}.game-container .header-controls .top-row-controls button:hover:before,body:not(.landing-page) .header-controls .top-row-controls button:hover:before{left:100%!important}.game-container .header-controls .top-row-controls button:hover i,body:not(.landing-page) .header-controls .top-row-controls button:hover i{transform:scale(1.1)!important;filter:drop-shadow(0 0 10px rgba(255,255,255,.6))!important;z-index:2!important}.game-container .top-row-controls button:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 25px #00bfffcc,0 0 50px #00bfff99,0 0 75px #00bfff66;border-color:#00bfffcc;background:linear-gradient(135deg,#00bfff4d,#00bfff1a)}.game-container .top-row-controls button:active i{color:#00bfff;text-shadow:0 0 10px rgba(0,191,255,.8),0 0 20px rgba(0,191,255,.6),0 0 30px rgba(0,191,255,.4);transform:scale(1.15)}@keyframes neonPulse{0%{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 25px #00bfffcc,0 0 50px #00bfff99}50%{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 35px #00bfff,0 0 70px #00bfffcc,0 0 100px #00bfff99}to{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a}}@keyframes neonPulseGold{0%{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 25px #ffd700cc,0 0 50px #ffd70099;border-color:#ffd70066;background:linear-gradient(135deg,#ffffff40,#ffffff26)}50%{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 35px gold,0 0 70px #ffd700cc,0 0 100px #ffd70099;border-color:#ffd700cc;background:linear-gradient(135deg,#ffd70033,#ffd7001a)}to{box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a;border-color:#fff3;background:linear-gradient(135deg,#ffffff26,#ffffff0d)}}.game-container .top-row-controls button.neon-clicked{animation:neonPulse .4s ease-out forwards}.theme-toggle.neon-clicked{animation:neonPulseGold .4s ease-out forwards}.game-container .top-row-controls button:disabled{opacity:.4;cursor:not-allowed;background:linear-gradient(135deg,#64646426,#6464640d);color:#ffffff4d}.game-container .top-row-controls button:disabled:hover{transform:none;box-shadow:0 4px 16px #0003,inset 0 1px 1px #ffffff1a}.game-container .top-row-controls button i{font-size:16px;transition:all .3s ease;text-shadow:0 1px 2px rgba(0,0,0,.3)}@media (min-width: 769px) and (max-width: 1024px){.game-container .header-controls .top-row-controls button,body:not(.landing-page) .header-controls .top-row-controls button{min-width:var(--theme-toggle-tablet)!important;width:var(--theme-toggle-tablet)!important;height:var(--theme-toggle-tablet)!important;padding:8px 10px!important;font-size:20px!important}.game-container .top-row-controls button i{font-size:20px!important}}@media (min-width: 1025px){.game-container .header-controls .top-row-controls button,body:not(.landing-page) .header-controls .top-row-controls button{min-width:var(--theme-toggle-desktop)!important;width:var(--theme-toggle-desktop)!important;height:var(--theme-toggle-desktop)!important;padding:10px 12px!important;font-size:22px!important}.game-container .top-row-controls button i{font-size:22px!important}}.game-buttons{display:flex;gap:8px;flex-shrink:0}.score-info{display:flex;justify-content:center;gap:20px;flex-grow:1}.score-container,.high-score-container{font-size:var(--font-size-score);color:var(--gold-text-color);text-shadow:var(--gold-text-shadow);background:transparent;padding:8px 15px;border-radius:5px;white-space:nowrap;display:flex;align-items:center;gap:8px;font-weight:600}.score-icon{color:var(--gold-text-color);text-shadow:var(--gold-text-shadow)}button:not(.fab-main):not(.fab-option):not(.mode-button){background:linear-gradient(135deg,#ffffff2e,#ffffff14);border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a,inset 0 1px #ffffff1a,0 4px 16px #0003;border-radius:12px;padding:6px 8px;color:#ffffffe6;font-family:var(--font-family-main);font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);transform:translateZ(0);position:relative;overflow:hidden;outline:none;display:flex;align-items:center;justify-content:center;gap:8px;will-change:transform,background}button:not(.fab-main):not(.fab-option):not(.mode-button):before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .6s ease}button i{font-size:1.1em}button:hover{background:linear-gradient(135deg,#fff3,#ffffff1a);transform:translateY(-2px) scale(1.02);box-shadow:0 12px 40px #00000026,inset 0 1px #ffffff26,0 6px 20px #00000040}button:hover:before{left:100%}button:active{transform:translateY(-1px) scale(.98);box-shadow:0 6px 24px #0000001f,inset 0 1px #ffffff1a,0 3px 12px #0003}button:disabled{opacity:.6;cursor:not-allowed;background:linear-gradient(145deg,#555,#888)}button:focus-visible{outline:3px solid var(--focus-outline-color);outline-offset:2px;box-shadow:0 0 0 4px rgba(var(--focus-outline-color),.3)}.game-buttons button{background:linear-gradient(135deg,#ffffff2e,#ffffff14);border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a,inset 0 1px #ffffff1a,0 4px 16px #0003;padding:6px;width:var(--header-button-size);height:var(--header-button-size);border-radius:10px;font-size:14px;transition:all .3s cubic-bezier(.4,0,.2,1);transform:translateZ(0);position:relative;overflow:hidden;will-change:transform,background}.game-buttons button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .6s ease}.game-buttons button:hover{background:linear-gradient(135deg,#fff3,#ffffff1a);transform:translateY(-2px) scale(1.05);box-shadow:0 12px 40px #00000026,inset 0 1px #ffffff26,0 6px 20px #00000040}.game-buttons button:hover:before{left:100%}.game-buttons button:active{transform:translateY(-1px) scale(.95);box-shadow:0 6px 24px #0000001f,inset 0 1px #ffffff1a,0 3px 12px #0003}@media (min-width: 769px) and (max-width: 1024px){.game-buttons button{width:var(--theme-toggle-tablet)!important;height:var(--theme-toggle-tablet)!important;font-size:18px!important;padding:8px!important}}@media (min-width: 1025px){.game-buttons button{width:var(--theme-toggle-desktop)!important;height:var(--theme-toggle-desktop)!important;font-size:20px!important;padding:10px!important}}.game-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:transparent;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1002;color:var(--text);opacity:1;visibility:visible;transition:opacity .3s ease,visibility .3s ease;border-radius:0;padding:0;box-sizing:border-box;overflow:hidden}.game-overlay>*{flex-shrink:0}.game-overlay-inner{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:100;opacity:1;visibility:visible;transition:opacity .3s ease,visibility .3s ease;background:#0a0f19e0;box-shadow:inset 0 0 30px #00000080;overflow:hidden}.game-overlay-inner.hidden{opacity:0;visibility:hidden;pointer-events:none;transition:opacity .4s ease,visibility .4s ease}.game-over-container{position:relative;width:90%;max-width:380px;text-align:center}.game-over-glow{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:200%;height:200%;background:radial-gradient(circle,rgba(112,214,255,.2) 0%,transparent 70%);border-radius:50%;filter:blur(40px);z-index:-1;pointer-events:none}.game-over-title{font-size:clamp(2rem,8vw,3.5rem);font-weight:900;color:#fff;margin:0 0 24px;letter-spacing:2px;text-transform:uppercase;text-shadow:0 0 30px rgba(112,214,255,.6),0 0 60px rgba(112,214,255,.3);animation:titleGlow 2s ease-in-out infinite}@keyframes titleGlow{0%,to{text-shadow:0 0 20px rgba(112,214,255,.4),0 0 40px rgba(112,214,255,.2)}50%{text-shadow:0 0 40px rgba(112,214,255,.8),0 0 80px rgba(112,214,255,.4)}}.game-over-content{background:#ffffff14;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1.5px solid rgba(112,214,255,.3);border-radius:16px;padding:28px 24px;margin-bottom:24px;box-shadow:0 0 40px #70d6ff1a,inset 0 1px #ffffff1a;display:flex;flex-direction:column;gap:16px}.score-item{display:flex;flex-direction:column;gap:8px}.score-label{font-size:.85rem;color:#ffffffb3;text-transform:uppercase;letter-spacing:1px;font-weight:500}.score-value{font-size:clamp(1.8rem,6vw,2.5rem);font-weight:900;background:linear-gradient(135deg,#70d6ff,#00ff96);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 20px rgba(112,214,255,.3)}.score-divider{height:1px;background:linear-gradient(90deg,transparent,rgba(112,214,255,.4),transparent);margin:4px 0}.game-over-button{background:linear-gradient(135deg,#70d6ff4d,#00ff9633);border:1.5px solid rgba(112,214,255,.5);color:#fff;padding:14px 28px;font-size:1.1rem;font-weight:600;border-radius:12px;cursor:pointer;transition:all .3s ease;box-shadow:0 0 20px #70d6ff33,inset 0 1px #ffffff1a;display:flex;align-items:center;justify-content:center;gap:8px;width:100%;text-transform:uppercase;letter-spacing:1px}.game-over-button:hover{background:linear-gradient(135deg,#70d6ff80,#00ff964d);border-color:#70d6ffcc;box-shadow:0 0 40px #70d6ff66,inset 0 1px #fff3;transform:translateY(-2px)}.game-over-button:active{transform:translateY(0)}.particles-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999}.particle{position:absolute;width:7px;height:7px;border-radius:50%;pointer-events:none;z-index:9999;opacity:.85;box-shadow:none}#particles-overlay{position:fixed!important;left:0;top:0;width:100vw;height:100vh;pointer-events:none;z-index:9998;overflow:visible;contain:layout paint;will-change:transform}.combo-message{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3em;font-weight:700;color:var(--c4-start);text-shadow:0 0 10px rgba(0,0,0,.8),0 0 20px var(--c4-start);opacity:0;visibility:hidden;pointer-events:none;z-index:1000}@keyframes combo-pop{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}30%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}70%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.combo-message.show{animation:combo-pop 1s ease-out forwards}.floating-score{position:absolute;color:var(--gold-text-color);font-size:1.5em;font-weight:700;text-shadow:var(--gold-text-shadow);pointer-events:none;opacity:0;animation:float-up-fade-out 1.2s ease-out forwards;z-index:1001;white-space:nowrap}@keyframes float-up-fade-out{0%{transform:translateY(0) scale(1);opacity:1}to{transform:translateY(-50px) scale(.8);opacity:0}}.combo-message.spectacular{animation:spectacular-combo 1s cubic-bezier(.4,0,.2,1);color:var(--gold-text-color);text-shadow:var(--gold-text-shadow),0 0 20px #fff,0 0 40px #ff0;font-size:2.5em;letter-spacing:2px}@keyframes spectacular-combo{0%{transform:scale(1) rotate(-2deg);opacity:.2}20%{transform:scale(1.2) rotate(2deg);opacity:1}60%{transform:scale(1.1) rotate(-2deg)}to{transform:scale(1) rotate(0);opacity:1}}.floating-score.spectacular{color:var(--gold-text-color);text-shadow:var(--gold-text-shadow),0 0 10px #fff;font-size:2em;animation:floating-score-spectacular 1.2s cubic-bezier(.4,0,.2,1)}@keyframes floating-score-spectacular{0%{transform:scale(1) translateY(0);opacity:1}60%{transform:scale(1.3) translateY(-40px);opacity:1}to{transform:scale(1) translateY(-60px);opacity:0}}#bg-canvas{position:fixed;top:0;left:0;outline:none;z-index:-1}#content{position:relative;z-index:1}section{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:0 5%}section p{font-size:1.2rem;max-width:600px;line-height:1.6;text-shadow:0 0 10px rgba(0,0,0,.7)}.hero p{margin-top:20px;animation:pulse 2s infinite alternate}.game-container{transform:none!important;perspective:none!important;transform-style:flat!important}body,html{transform:none!important}#piecesContainer,.pieces-container{margin-top:0!important;margin-bottom:0!important;padding-top:0!important;padding-bottom:0!important}#specialActionsFooter{position:fixed;bottom:20px;left:0;width:100%;height:auto;background:transparent;z-index:12000;display:flex;justify-content:center;align-items:center;pointer-events:auto!important}body.landing-page{height:100vh;background:var(--bg-main)!important;overflow:hidden;position:relative;font-family:Nunito,sans-serif;display:flex;align-items:center;justify-content:center;padding:1rem;transition:background .5s ease}.container{width:100%;max-width:var(--container-mobile);text-align:center;animation:fadeIn .8s .2s ease-out forwards;opacity:0;position:relative;z-index:10;margin:0 auto;display:flex;flex-direction:column;align-items:center}.header{width:100%;margin-bottom:1rem;animation:float-logo 6s ease-in-out infinite;display:flex;justify-content:center}.logo{font-size:2.8rem;font-weight:900;color:var(--text-primary);text-shadow:0 5px 0 var(--logo-shadow);display:inline-flex;justify-content:center;transform:rotate(-3deg);transition:color .5s ease,text-shadow .5s ease}.mode-list{display:flex;flex-direction:column;gap:1rem;align-items:stretch;width:100%}.mode-button{display:flex;align-items:center;gap:1rem;width:100%;padding:1.25rem 1.5rem;border-radius:24px;border:none;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,opacity .3s ease;color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.25);font-family:Nunito,sans-serif;text-align:left;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mode-button:not(.loading):hover{transform:translateY(-4px)}.mode-button:active,.mode-button.selected{transform:translateY(6px)}.mode-button:not(.loading):active{transform:translateY(6px)!important;transition:transform .1s ease!important}.mode-button[data-mode=classic]{background:var(--button-classic-bg);box-shadow:inset 0 4px #ffffff4d,0 10px #00bfff}.mode-button[data-mode=classic]:not(.loading):hover{box-shadow:inset 0 4px #ffffff4d,0 14px #00bfff}.mode-button[data-mode=classic]:active,.mode-button[data-mode=classic].selected{box-shadow:inset 0 4px #ffffff4d,0 4px #00bfff}.mode-button[data-mode=classic]:not(.loading):active{box-shadow:inset 0 4px #ffffff4d,0 4px #00bfff!important}body:not([data-theme=dark]) .mode-button[data-mode=classic]{box-shadow:inset 0 4px #ffffff4d,0 10px #ff9800}body:not([data-theme=dark]) .mode-button[data-mode=classic]:not(.loading):hover{box-shadow:inset 0 4px #ffffff4d,0 14px #ff9800}body:not([data-theme=dark]) .mode-button[data-mode=classic]:active,body:not([data-theme=dark]) .mode-button[data-mode=classic].selected{box-shadow:inset 0 4px #ffffff4d,0 4px #ff9800}body[data-theme=dark] .mode-button[data-mode=classic]{box-shadow:inset 0 4px #ffffff4d,0 10px #00bfff}body[data-theme=dark] .mode-button[data-mode=classic]:not(.loading):hover{box-shadow:inset 0 4px #ffffff4d,0 14px #00bfff}body[data-theme=dark] .mode-button[data-mode=classic]:active,body[data-theme=dark] .mode-button[data-mode=classic].selected{box-shadow:inset 0 4px #ffffff4d,0 4px #00bfff}.mode-button[data-mode=collection]{background:var(--button-collection-bg);box-shadow:inset 0 4px #ffffff4d,0 10px 0 0 var(--button-collection-dark)}.mode-button[data-mode=collection]:not(.loading):hover{box-shadow:inset 0 4px #ffffff4d,0 14px 0 0 var(--button-collection-dark)}.mode-button[data-mode=collection]:active,.mode-button[data-mode=collection].selected{box-shadow:inset 0 4px #ffffff4d,0 4px 0 0 var(--button-collection-dark)}.mode-button[data-mode=collection]:not(.loading):active{box-shadow:inset 0 4px #ffffff4d,0 4px 0 0 var(--button-collection-dark)!important}.mode-button.loading{pointer-events:none;cursor:wait}.mode-button .icon{flex-shrink:0;width:var(--icon-size);height:var(--icon-size);display:flex;justify-content:center;align-items:center;transition:transform .3s ease}.mode-button:not(.loading):hover .icon{transform:scale(1.1)}.mode-button .text-content h2{font-size:1.5rem;font-weight:900;margin:0;line-height:1.1}.mode-button .text-content p{font-size:.9rem;font-weight:700;opacity:.8;margin:0}.piece-showcase{flex-shrink:0;width:var(--icon-size);height:var(--icon-size);position:relative;animation:showcase-float 8s infinite ease-in-out}.block{width:30%;height:30%;position:absolute;border-radius:25%;background:linear-gradient(135deg,var(--color-dark-1, #2a7dcc),var(--color-dark-2, #164d85));box-shadow:0 2px 5px #0003,inset 1px 1px 2px var(--color-bevel-light, rgba(255,255,255,.2)),inset -1px -1px 2px var(--color-bevel-dark, rgba(0,0,0,.4));overflow:hidden;transition:top .7s cubic-bezier(.65,0,.35,1),left .7s cubic-bezier(.65,0,.35,1),opacity .7s ease,background .5s ease,box-shadow .5s ease}.block:before{content:"";position:absolute;top:-10%;left:-10%;width:120%;height:120%;background:radial-gradient(circle at 40% 40%,var(--color-core-light, rgba(255,255,255,.5)) 0%,var(--color-core-mid, rgba(255,255,255,.2)) 30%,transparent 60%);mix-blend-mode:lighten;transition:background .5s ease}.block:after{content:"";position:absolute;top:8%;left:11%;width:72%;height:16%;background:var(--color-highlight, rgba(255,255,255,.2));clip-path:polygon(0% 25%,100% 0%,90% 100%,10% 100%);transition:background .5s ease}.stats-container,.info-box{margin-left:auto;margin-right:auto;margin-bottom:1rem}.glass-effect{background:var(--glass-bg);border:1px solid var(--glass-border);box-shadow:0 4px 30px #0000001a;transition:background .5s ease,border .5s ease}body.glass-ready .glass-effect{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}#theme-toggle.theme-toggle{position:fixed!important;top:1rem!important;right:1rem!important;left:auto!important;bottom:auto!important;transform:none!important;margin:0!important;z-index:9999!important;width:var(--theme-toggle-mobile)!important;height:var(--theme-toggle-mobile)!important;padding:8px 10px!important;display:flex!important;align-items:center!important;justify-content:center!important;min-width:var(--theme-toggle-mobile)!important;background:linear-gradient(135deg,#ffffff26,#ffffff0d)!important;border:1px solid rgba(255,255,255,.2)!important;border-radius:12px!important;color:#ffffffe6!important;cursor:pointer!important;transition:all .3s cubic-bezier(.32,.08,.24,1)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;box-shadow:0 4px 16px #0003,inset 0 1px 1px #fff3!important;font-size:16px!important;overflow:hidden!important}#theme-toggle.theme-toggle:before{content:""!important;position:absolute!important;top:0!important;left:-100%!important;width:100%!important;height:100%!important;background:linear-gradient(90deg,transparent,rgba(255,255,255,.15),transparent)!important;transition:left .6s ease!important}#theme-toggle.theme-toggle:hover{background:linear-gradient(135deg,#ffffff40,#ffffff26)!important;transform:translateY(-2px) scale(1.05)!important;box-shadow:0 8px 25px #0000004d,inset 0 1px 1px #ffffff4d,0 0 15px #ffffff1a!important;border-color:#ffffff59!important}#theme-toggle.theme-toggle:hover:before{left:100%!important}#theme-toggle.theme-toggle:hover i{transform:scale(1.1)!important;filter:drop-shadow(0 0 8px rgba(255,255,255,.5))!important}#theme-toggle.theme-toggle:active{transform:translateY(-1px) scale(.98)!important;box-shadow:0 4px 15px #00000026,inset 0 1px 1px #ffffff1a,0 0 25px #00bfffcc,0 0 50px #00bfff99,0 0 75px #00bfff66!important;border-color:#00bfffcc!important;background:linear-gradient(135deg,#00bfff4d,#00bfff1a)!important}#theme-toggle.theme-toggle:active i{color:#00bfff!important;text-shadow:0 0 10px rgba(0,191,255,.8),0 0 20px rgba(0,191,255,.6),0 0 30px rgba(0,191,255,.4)!important;transform:scale(1.15)!important}#theme-toggle.theme-toggle i{font-size:16px!important;transition:all .3s ease!important}.stats-container{border-radius:20px;padding:1rem 1.5rem;display:flex;justify-content:space-between;align-items:center;width:100%;max-width:var(--container-desktop);margin:0 auto 1rem;box-sizing:border-box;gap:.75rem}.stat-item{text-align:center;color:var(--text-primary);transition:color .5s ease;flex:1 1 0;min-width:var(--stat-min-width)}.stat-value{display:block;font-size:1.5rem;font-weight:900}.stat-label{font-size:.8rem;font-weight:700;color:var(--text-secondary);transition:color .5s ease}.stat-label i{margin-right:.4rem;opacity:.7}.info-box{border-radius:20px;padding:1rem 1.25rem;width:100%;max-width:var(--container-desktop);margin:0 auto 1rem;color:var(--text-primary);font-weight:700;display:flex;justify-content:center;align-items:center;gap:.75rem;transition:color .5s ease;box-sizing:border-box}.info-box p{margin:0;text-align:center;flex-grow:1}.info-box p{font-size:1rem!important;line-height:1.4!important;letter-spacing:normal!important;text-shadow:none!important;margin-bottom:0!important}.actions-container{display:flex;gap:1rem;margin-top:1rem;justify-content:center;width:100%}.action-button{flex:0 0 calc((100% - 1rem)/2);padding:.8rem 1rem;border:none;border-radius:16px;color:var(--text-primary);background:var(--glass-bg);font-family:Nunito,sans-serif;font-weight:900;font-size:.9rem;cursor:pointer;transition:background .3s ease,color .5s ease}.action-button:hover{background:var(--button-secondary-hover)}.action-button i{margin-right:.5rem}footer{position:absolute;bottom:1rem;width:100%;text-align:center;color:var(--footer-text);font-size:.8rem;z-index:10;pointer-events:none;transition:color .5s ease}footer span.footer-chip{display:inline-block;background:#00000059;color:#fff;padding:.25rem .5rem;border-radius:8px}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.001ms!important;animation-iteration-count:1!important;transition-duration:.001ms!important;scroll-behavior:auto!important}}.settings-modal-content{background:var(--glass-bg)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;border:1px solid var(--glass-border)!important;box-shadow:0 4px 30px #0000001a!important}.settings-modal-content{position:relative!important}.settings-close{position:absolute!important;top:.75rem!important;right:.75rem!important;left:auto!important;transform:none!important;font-size:1.2rem!important;background:none!important;z-index:2!important}.settings-close{width:2rem!important;height:2rem!important;padding:.2rem!important;font-size:1rem!important;line-height:1!important}@keyframes fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes float-logo{0%,to{transform:translateY(0) rotate(-3deg)}50%{transform:translateY(-10px) rotate(-3deg)}}@keyframes showcase-float{0%,to{transform:rotate(-15deg) scale(1)}50%{transform:rotate(-10deg) scale(1.05)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (min-width: 768px){.container{max-width:var(--container-max-desktop)}.mode-list{flex-direction:row;gap:1.5rem;justify-content:center;width:100%}.mode-list .mode-button{flex:1}.mode-button{flex-direction:row;text-align:left;padding:1rem 1.5rem;min-width:var(--mode-button-min-width);width:auto}.mode-button .text-content{margin-top:0}#theme-toggle.theme-toggle{position:fixed!important;top:1rem!important;right:1rem!important;bottom:auto!important;left:auto!important;transform:none!important;margin:0!important}}@media (min-width: 769px) and (max-width: 1024px){#theme-toggle.theme-toggle{width:var(--theme-toggle-tablet)!important;height:var(--theme-toggle-tablet)!important;padding:10px 12px!important;font-size:20px!important}#theme-toggle.theme-toggle i{font-size:20px!important}}@media (min-width: 1025px){#theme-toggle.theme-toggle{width:var(--theme-toggle-desktop)!important;height:var(--theme-toggle-desktop)!important;padding:12px 14px!important;font-size:22px!important}#theme-toggle.theme-toggle i{font-size:22px!important}}body.landing-page #theme-toggle{position:fixed!important;top:1rem!important;right:1rem!important;left:auto!important;bottom:auto!important;margin:0!important}:root{--grid-cell-size: 40px;--piece-block-size: var(--grid-cell-size);--grid-gap: 2px;--grid-step: calc(var(--grid-cell-size) + var(--grid-gap));--game-grid-content-size: calc(10 * var(--grid-cell-size) + 9 * var(--grid-gap));--game-grid-padding: 30px;--game-grid-border: 2px;--game-grid-total-size: calc(var(--game-grid-content-size) + 2 * var(--game-grid-padding) + 2 * var(--game-grid-border));--view-height: 100vh;--grid-cell-radius: calc(var(--grid-cell-size) * .25);--game-shell-max-width: clamp(360px, calc(var(--game-grid-total-size) + 4rem), 640px);--game-shell-inline-gap: clamp(16px, 5vw, 28px);--game-shell-block-gap: clamp(12px, 3vh, 28px)}@supports (height: 100dvh){:root{--view-height: 100dvh}}.game-area{display:flex;justify-content:center;align-items:center;flex:none;width:auto;height:auto;padding:0;box-sizing:border-box;position:relative;overflow:visible}@keyframes ext-game-area-shake-strong{0%{transform:translate(0)}8%{transform:translate(-10px)}16%{transform:translate(10px)}24%{transform:translate(-8px)}32%{transform:translate(8px)}40%{transform:translate(-6px)}48%{transform:translate(6px)}56%{transform:translate(-4px)}64%{transform:translate(4px)}76%{transform:translate(-2px)}88%{transform:translate(2px)}to{transform:translate(0)}}.game-area.ext-game-area-shake-strong,.game-grid-container.ext-game-area-shake-strong,.game-grid.ext-game-area-shake-strong{animation:ext-game-area-shake-strong .36s linear both;will-change:transform;transform:translateZ(0)}@media (prefers-reduced-motion: reduce){.game-area.ext-game-area-shake,.game-grid-container.ext-game-area-shake,.game-grid.ext-game-area-shake,.game-area.ext-game-area-shake-strong,.game-grid-container.ext-game-area-shake-strong,.game-grid.ext-game-area-shake-strong{animation:none!important;transform:none!important}}@keyframes ext-game-area-shake{0%{transform:translate(0) translateY(0) rotate(0)}15%{transform:translate(-6px) translateY(-1px) rotate(-.35deg)}30%{transform:translate(6px) translateY(0) rotate(.25deg)}45%{transform:translate(-4px) translateY(0) rotate(-.15deg)}60%{transform:translate(4px) translateY(0) rotate(.08deg)}80%{transform:translate(-2px) translateY(0) rotate(-.04deg)}to{transform:translate(0) translateY(0) rotate(0)}}.game-area.ext-game-area-shake,.game-grid-container.ext-game-area-shake,.game-grid.ext-game-area-shake{animation:ext-game-area-shake .26s linear both;will-change:transform}.game-grid-container{position:relative;padding:var(--game-grid-padding);border-radius:35px;background:#0003;box-shadow:0 15px 35px #00000080,inset 0 3px 10px #ffffff1a}.game-grid{margin:auto;display:grid;grid-template-columns:repeat(10,var(--grid-cell-size));grid-template-rows:repeat(10,var(--grid-cell-size));gap:var(--grid-gap);width:clamp(300px,90vw,400px);height:clamp(300px,90vw,400px);max-width:none!important;max-height:none!important;padding:var(--game-grid-padding);background:#ffffff1a;border-radius:28px;box-shadow:inset 0 4px 10px #0000004d,inset 0 -2px 10px #ffffff0d,0 2px 5px #0003;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.15);position:relative;box-sizing:border-box}.game-grid:before{content:"";position:absolute;top:8px;left:8px;right:8px;bottom:8px;border-radius:22px;background:linear-gradient(to bottom,rgba(0,0,0,.2) 0%,transparent 10%,transparent 90%,rgba(0,0,0,.3) 100%);pointer-events:none;z-index:1}.grid-cell{width:var(--grid-cell-size);height:var(--grid-cell-size);background-color:#00000026;box-shadow:inset 0 2px 4px #0003;border-radius:var(--grid-cell-radius, 10px);position:relative;z-index:2;transform:translateY(0);transform-origin:center center}.grid-cell-block{width:100%;height:100%;position:relative}@keyframes rubberBandBounce{0%{transform:scale(.3);opacity:0}30%{transform:scale(1.15);opacity:1}45%{transform:scale(.92)}60%{transform:scale(1.05)}75%{transform:scale(.98)}90%{transform:scale(1.01)}to{transform:scale(1);opacity:1}}.grid-cell[class*=filled-].placed,.grid-cell-block[class*=filled-].placed{animation:rubberBandBounce .65s cubic-bezier(.68,-.55,.265,1.55) forwards;transform-origin:center center;z-index:10;position:relative}.grid-cell[class*=filled-].placed:before,.grid-cell[class*=filled-].placed:after,.grid-cell-block[class*=filled-].placed:before,.grid-cell-block[class*=filled-].placed:after{animation:inherit}@keyframes newPieceEntrance{0%{opacity:0;transform:translateY(25px) scale(.85)}to{opacity:1;transform:translateY(0) scale(1)}}@media (prefers-reduced-motion: reduce){.grid-cell.placed{animation:simpleFadeIn .2s ease-out forwards!important}@keyframes simpleFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.piece.new-piece{animation:none!important}}.grid-cell[class*=filled-],.grid-cell-block[class*=filled-]{position:relative;border-radius:25%;background:linear-gradient(135deg,var(--color-dark-1),var(--color-dark-2));box-shadow:0 4px 10px #0003,inset 1px 1px 2px var(--color-bevel-light),inset -1px -1px 2px var(--color-bevel-dark);overflow:hidden}.piece-block{width:var(--piece-block-size);height:var(--piece-block-size);position:relative;border-radius:25%;background:linear-gradient(135deg,var(--color-dark-1),var(--color-dark-2));box-shadow:0 4px 10px #0003,inset 1px 1px 2px var(--color-bevel-light),inset -1px -1px 2px var(--color-bevel-dark);overflow:hidden}.piece-block:before,.grid-cell[class*=filled-]:before,.grid-cell-block[class*=filled-]:before{content:"";position:absolute;top:-10%;left:-10%;width:120%;height:120%;background:radial-gradient(circle at 40% 40%,var(--color-core-light) 0%,var(--color-core-mid) 30%,transparent 60%);mix-blend-mode:lighten}.piece-block:after,.grid-cell[class*=filled-]:after,.grid-cell-block[class*=filled-]:after{content:"";position:absolute;top:8%;left:11%;width:72%;height:16%;background:#ffffff91;clip-path:polygon(0% 25%,100% 0%,90% 100%,10% 100%);filter:blur(4px);box-shadow:inset 0 0 6px #fff9;border-radius:4px;pointer-events:none;z-index:3}.grid-cell.filled-1,.piece-block.color-1,.grid-cell-block.filled-1{--color-dark-1: #2a7dcc;--color-dark-2: #164d85;--color-core-light: rgba(168, 208, 255, .8);--color-core-mid: rgba(94, 174, 255, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(15, 52, 92, .4)}.grid-cell.filled-2,.piece-block.color-2,.grid-cell-block.filled-2{--color-dark-1: #21a179;--color-dark-2: #0f8b66;--color-core-light: rgba(173, 255, 219, .8);--color-core-mid: rgba(81, 238, 176, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(7, 63, 46, .4)}.grid-cell.filled-2 body.dragging .grid-cell,.piece-block.color-2 body.dragging .grid-cell,.grid-cell-block.filled-2 body.dragging .grid-cell{transition:none!important}.grid-cell.filled-2 #draggedPieceClone,.piece-block.color-2 #draggedPieceClone,.grid-cell-block.filled-2 #draggedPieceClone{pointer-events:none;display:none;position:fixed;left:0;top:0;z-index:9999;will-change:transform}.grid-cell.filled-2 #draggedPieceClone.dd-dragging,.piece-block.color-2 #draggedPieceClone.dd-dragging,.grid-cell-block.filled-2 #draggedPieceClone.dd-dragging{display:block;opacity:.95;filter:drop-shadow(0 9px 24px rgba(0,0,0,.6));-webkit-filter:drop-shadow(0 9px 24px rgba(0,0,0,.6))}.grid-cell.filled-2 #draggedPieceClone.dd-dragging .piece,.piece-block.color-2 #draggedPieceClone.dd-dragging .piece,.grid-cell-block.filled-2 #draggedPieceClone.dd-dragging .piece{transform:scale(1.02);opacity:.98}.grid-cell.filled-2 .grid-cell.dd-highlight,.piece-block.color-2 .grid-cell.dd-highlight,.grid-cell-block.filled-2 .grid-cell.dd-highlight{outline:3px solid rgba(34,197,94,.95)!important;background:linear-gradient(180deg,#22c55e14,#22c55e0a)!important;transform:translateY(-2px) scale(1.02)!important;outline-offset:0}.grid-cell.filled-2 .grid-cell.dd-invalid,.piece-block.color-2 .grid-cell.dd-invalid,.grid-cell-block.filled-2 .grid-cell.dd-invalid{outline:3px solid rgba(239,68,68,.9)!important;background:linear-gradient(180deg,#ef44440f,#ef444408)!important;transform:translateY(0) scale(1)!important;outline-offset:0}@media (prefers-reduced-motion: reduce){.grid-cell.filled-2 #draggedPieceClone.dd-dragging,.grid-cell.filled-2 .grid-cell.dd-highlight,.grid-cell.filled-2 .grid-cell.dd-invalid,.piece-block.color-2 #draggedPieceClone.dd-dragging,.piece-block.color-2 .grid-cell.dd-highlight,.piece-block.color-2 .grid-cell.dd-invalid,.grid-cell-block.filled-2 #draggedPieceClone.dd-dragging,.grid-cell-block.filled-2 .grid-cell.dd-highlight,.grid-cell-block.filled-2 .grid-cell.dd-invalid{transition:none!important}}.grid-cell.filled-3,.piece-block.color-3,.grid-cell-block.filled-3{--color-dark-1: #6b4f2a;--color-dark-2: #4a3220;--color-core-light: rgba(198, 140, 83, .75);--color-core-mid: rgba(150, 105, 60, .5);--color-bevel-light: rgba(255, 235, 200, .15);--color-bevel-dark: rgba(40, 25, 15, .55)}.grid-cell.filled-4,.piece-block.color-4,.grid-cell-block.filled-4{--color-dark-1: #57378f;--color-dark-2: #381f62;--color-core-light: rgba(188, 163, 220, .8);--color-core-mid: rgba(144, 107, 191, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(27, 12, 51, .4)}.grid-cell.filled-5,.piece-block.color-5,.grid-cell-block.filled-5{--color-dark-1: #d64e1f;--color-dark-2: #a3320f;--color-core-light: rgba(255, 187, 166, .8);--color-core-mid: rgba(255, 137, 98, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(80, 24, 0, .4)}.grid-cell.filled-6,.piece-block.color-6,.grid-cell-block.filled-6{--color-dark-1: #259dcf;--color-dark-2: #14648b;--color-core-light: rgba(162, 222, 250, .8);--color-core-mid: rgba(88, 199, 249, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(10, 68, 94, .4)}.grid-cell.filled-7,.piece-block.color-7,.grid-cell-block.filled-7{--color-dark-1: #cd5498;--color-dark-2: #9e3670;--color-core-light: rgba(250, 187, 218, .8);--color-core-mid: rgba(246, 137, 195, .5);--color-bevel-light: rgba(255, 255, 255, .2);--color-bevel-dark: rgba(77, 21, 52, .4)}.grid-cell.ghost{opacity:.48;border:none;border-radius:25%;background:linear-gradient(180deg,var(--ghost-fill-color, rgba(255,229,59,.12)),transparent)!important;box-shadow:0 0 0 2px var(--ghost-border-color, rgba(255,229,59,.95)),0 0 14px var(--ghost-glow-color, rgba(255,229,59,.55));z-index:2000}.pieces-container,#piecesContainer{margin:.35rem auto 0;display:flex!important;justify-content:space-around!important;align-items:center!important;gap:clamp(.75rem,3vw,1.25rem);padding:12px clamp(12px,4vw,20px);width:100%!important;max-width:min(100%,var(--game-shell-max-width))!important;overflow-x:auto!important;overflow-y:visible!important;overscroll-behavior-x:contain;scroll-snap-type:x proximity;background:var(--glass-bg, rgba(255,255,255,.04))!important;-webkit-backdrop-filter:blur(var(--glass-blur, 6px));backdrop-filter:blur(var(--glass-blur, 6px));border-radius:12px;box-shadow:0 8px 20px #00000040;border:1px solid rgba(255,255,255,.04);min-height:auto!important;z-index:1000;box-sizing:border-box}.pieces-container::-webkit-scrollbar,#piecesContainer::-webkit-scrollbar{height:6px}.pieces-container::-webkit-scrollbar-thumb,#piecesContainer::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:999px}.piece{display:inline-block!important;cursor:grab;transition:opacity .2s ease;will-change:transform,opacity;touch-action:none}.pieces-container,#piecesContainer,.game-area,.game-grid,.game-grid .grid-cell,.game-container{touch-action:none}html,body,#app,.game-overlay,.game-overlay-inner,.modal-overlay,.particles-overlay,#particles-overlay,#rowClearOverlay,.cell-clear-overlay,.debug-overlay,#debugOverlay{touch-action:none;overscroll-behavior:contain}.piece.dragging{opacity:.3;cursor:grabbing}.piece.new-piece{animation:newPieceEntrance .65s cubic-bezier(.25,.46,.45,.94) forwards;transition:opacity .3s ease-out,transform .3s ease-out}.piece-grid{display:grid;gap:var(--grid-gap)}.dragged-piece-clone{position:fixed!important;z-index:10000!important;pointer-events:none;display:none;padding:0;border-radius:var(--border-radius-base);will-change:transform;background:none!important;box-shadow:none!important;border:none!important;--piece-block-size: var(--grid-cell-size)}.dragged-piece-clone.show{display:grid;justify-content:center;align-items:center;gap:var(--grid-gap)}.dragged-piece-clone.show .piece-block,.dragged-piece-clone .piece-grid .piece-block,body .dragged-piece-clone .piece-block{width:var(--grid-cell-size)!important;height:var(--grid-cell-size)!important;min-width:var(--grid-cell-size)!important;min-height:var(--grid-cell-size)!important;max-width:var(--grid-cell-size)!important;max-height:var(--grid-cell-size)!important;flex-shrink:0!important;flex-grow:0!important}.dragged-piece-clone.show .piece-grid,body .dragged-piece-clone .piece-grid{gap:var(--grid-gap)!important;grid-gap:var(--grid-gap)!important}.dragged-piece-clone,.dragged-piece-clone .piece,.dragged-piece-clone .piece-grid,.dragged-piece-clone .piece-block,.dragged-piece-clone .piece-grid .piece-block,.dragged-piece-clone .piece-block.clone-block{animation:none!important;transition:none!important;filter:none!important}.game-container{background:var(--glass-bg);box-shadow:inset 0 1px 1px var(--glass-border),0 10px 30px #0000004d;backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));position:relative;inset:auto;width:100%;max-width:none;min-height:var(--view-height);height:auto;margin:0 auto;padding:clamp(16px,3vh,32px) var(--game-shell-inline-gap) clamp(96px,14vh,140px) var(--game-shell-inline-gap);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:var(--game-shell-block-gap);overflow:visible;box-sizing:border-box}.game-container>.game-area{width:min(100%,calc(var(--game-grid-total-size) + 32px));max-width:100%;margin:0 auto}@media (max-width: 1024px){.game-container{width:min(100%,var(--game-shell-max-width));max-width:100%}}.game-overlay.hidden,.game-container.hidden{opacity:0;visibility:hidden;pointer-events:none;transition:opacity .4s ease,transform .4s ease,visibility .4s;transform:translateY(20px)}.game-container.hidden{display:none!important}.game-container.show,.game-overlay:not(.hidden){opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0);transition:opacity .4s ease,transform .4s ease,visibility .4s}.game-container.slide-up-in{opacity:0;transform:translateY(50px) scale(.9)}.game-container.slide-up-in.active{opacity:1;transform:translateY(0) scale(1);transition:opacity .6s ease-out,transform .6s ease-out}@media (min-width: 769px) and (max-width: 1024px){:root{--tablet-vertical-reserved: clamp(260px, 32vh, 360px);--tablet-grid-max-size: max(320px, calc(var(--view-height) - var(--tablet-vertical-reserved)));--grid-cell-size: clamp( 28px, min(4.6vw, (var(--tablet-grid-max-size) - var(--game-grid-padding) - var(--game-grid-border)) / 10), 44px );--piece-block-size: calc(var(--grid-cell-size) * .9)}.game-container{display:grid!important;grid-template-columns:minmax(120px,.8fr) var(--game-grid-total-size) minmax(120px,.8fr);grid-template-rows:auto var(--game-grid-total-size);grid-template-areas:". header ." "score grid pieces";justify-content:center;align-content:center;justify-items:center;gap:clamp(12px,2vw,24px);padding:clamp(14px,3vh,26px) clamp(12px,4vw,28px);box-sizing:border-box;max-width:100vw;max-height:100vh;overflow:hidden}.header-controls{grid-area:header;justify-self:center;align-self:start;margin:0;position:sticky;top:clamp(6px,1.8vh,14px);z-index:1000;display:flex;justify-content:space-between}.center-score-wrapper{grid-area:score;justify-self:center;align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:var(--game-grid-height);margin:0}.center-score .score-display{font-size:clamp(2rem,4.5vw,2.8rem)!important}.header-controls .top-row-controls button{width:clamp(36px,5.6vw,46px)!important;height:clamp(36px,5.6vw,46px)!important;font-size:clamp(16px,2.8vw,20px)!important;position:relative!important;overflow:hidden!important;padding:clamp(5px,1.4vw,7px) clamp(6px,1.8vw,9px)!important}.game-area{grid-area:grid;justify-self:center;align-self:center;width:var(--game-grid-total-size)!important;height:var(--game-grid-total-size)!important;max-width:var(--game-grid-total-size);max-height:var(--game-grid-total-size);margin:0 0 clamp(12px,3vh,28px) 0;padding:0}.game-container>.pieces-container,.pieces-container,#piecesContainer{grid-area:pieces;justify-self:center;align-self:center;display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:space-between!important;gap:clamp(10px,1.8vw,18px)!important;width:100%!important;max-width:min(var(--game-grid-total-size),100%)!important;height:auto!important;max-height:clamp(84px,16vh,160px)!important;margin:clamp(16px,3vh,28px) 0 0 0!important;padding:clamp(10px,2.6vw,16px) clamp(8px,2vw,14px)!important;background:transparent!important;border-radius:0!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important;box-shadow:none!important;border:none!important;overflow-y:hidden!important;overflow-x:auto!important}.game-container>.pieces-container .piece,.pieces-container .piece,#piecesContainer .piece{display:inline-flex!important;flex:0 0 auto!important;justify-content:center!important;align-items:center!important;margin:0 6px!important}.game-container>.pieces-container .piece:nth-child(2),.pieces-container .piece:nth-child(2),#piecesContainer .piece:nth-child(2){margin-left:auto!important;margin-right:auto!important}.game-container>.pieces-container .piece,.pieces-container .piece,#piecesContainer .piece{display:flex!important;justify-content:center;align-items:center;width:auto}}@media (min-width: 1025px){:root{--grid-cell-size: 90px;--piece-block-size: 65px;--game-area-width: var(--game-grid-total-size);--game-grid-padding: 20px}.game-container{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;display:grid!important;grid-template-columns:minmax(220px,calc(var(--game-grid-total-size) * .9)) var(--game-grid-total-size) minmax(220px,calc(var(--game-grid-total-size) * .9));grid-template-rows:auto var(--game-grid-total-size);grid-template-areas:". header ." "score grid pieces";justify-content:center;align-content:center;justify-items:center;gap:30px;padding:clamp(30px,5vh,60px) clamp(40px,7vw,140px);box-sizing:border-box;max-width:100vw;max-height:100vh;overflow:hidden}.header-controls{position:absolute!important;top:10px;left:50%;transform:translate(-50%);width:var(--game-area-width)!important;display:flex!important;justify-content:space-between!important;align-items:center!important;margin:0 auto!important;z-index:1000}.header-controls .top-row-controls button i{font-size:1em!important;line-height:1!important}.center-score-wrapper{grid-area:score;justify-self:center;align-self:center;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:var(--game-grid-height);margin:0}.center-score .score-display{font-size:4rem!important}.header-controls .top-row-controls button{width:56px!important;height:56px!important;font-size:22px!important;line-height:1!important;margin:0 8px!important;padding:10px 12px!important;position:relative!important;overflow:hidden!important}.game-area{grid-area:grid;justify-self:center;align-self:center;width:var(--game-grid-total-size)!important;height:var(--game-grid-total-size)!important;max-width:var(--game-grid-total-size);max-height:var(--game-grid-total-size);margin:0;padding:0}.pieces-container,#piecesContainer{grid-area:pieces;justify-self:center;align-self:center;display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:space-between!important;gap:30px!important;width:100%!important;max-width:var(--game-grid-total-size)!important;height:auto!important;max-height:var(--game-grid-total-size)!important;margin:28px 0 0!important;padding:20px 15px!important;background:transparent!important;border-radius:0!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important;box-shadow:none!important;border:none!important;overflow-y:auto!important;overflow-x:auto!important}}.grid-cell[class*=filled-]:after,.piece-block:after{opacity:1;transition:opacity .7s ease-out}body[data-theme=dark] .game-container{background:var(--glass-bg)!important;box-shadow:inset 0 1px 1px var(--glass-border),0 10px 30px #0000004d!important;backdrop-filter:blur(var(--glass-blur))!important;-webkit-backdrop-filter:blur(var(--glass-blur))!important}body[data-theme=dark] .game-grid-container{background:var(--glass-bg)!important;box-shadow:inset 0 1px 1px var(--glass-border),0 10px 30px #0000004d!important;backdrop-filter:blur(var(--glass-blur))!important;-webkit-backdrop-filter:blur(var(--glass-blur))!important;border-radius:35px!important}.pieces-container .piece-block:after,#piecesContainer .piece-block:after{background:#fffc!important}.game-container.paused *{animation-play-state:paused!important}.special-mode-message{background:linear-gradient(135deg,#ffffff38,#d2e1ff2e);border-radius:22px;box-shadow:0 8px 40px #0000002e,0 0 0 2px #78b4ff1f,0 1.5px 12px #78b4ff1a;border:1.5px solid rgba(120,180,255,.22);backdrop-filter:blur(14px) saturate(1.2);-webkit-backdrop-filter:blur(14px) saturate(1.2);color:#1a2340;padding:1.25rem 2.5rem 1.15rem;font-size:1.22rem;font-weight:700;text-align:center;z-index:3000;position:fixed;left:50%;top:7.5%;transform:translate(-50%) scale(1);max-width:92vw;min-width:240px;transition:background .3s,opacity .3s,transform .25s cubic-bezier(.42,1.2,.58,1);opacity:1;letter-spacing:.01em;overflow:hidden;border-bottom:2.5px solid rgba(120,180,255,.22);animation:glassMessagePop .45s cubic-bezier(.42,1.2,.58,1)}@keyframes glassMessagePop{0%{opacity:0;transform:translate(-50%) scale(.85)}60%{opacity:1;transform:translate(-50%) scale(1.08)}to{opacity:1;transform:translate(-50%) scale(1)}}.special-mode-message:before{content:"";position:absolute;left:0;top:0;right:0;bottom:0;border-radius:22px;pointer-events:none;background:radial-gradient(circle at 60% 10%,rgba(255,255,255,.18) 0%,transparent 70%);z-index:0}.special-mode-message .icon{display:inline-block;font-size:1.5em;margin-right:.5em;vertical-align:middle;filter:drop-shadow(0 2px 6px rgba(120,180,255,.18))}.special-mode-message.hidden{opacity:0;pointer-events:none;transition:opacity .3s}body[data-theme=dark] .special-mode-message{background:linear-gradient(135deg,#0c1a30eb,#202c48e0);border:1.5px solid rgba(120,180,255,.12);color:#eaf2ff;box-shadow:0 8px 40px #00000047,0 0 0 2px #78b4ff2e,0 1.5px 12px #78b4ff1a;border-bottom:2.5px solid rgba(120,180,255,.18)}.game-area{position:relative;display:flex;justify-content:center;align-items:center}#rowClearCanvas{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:50;background:transparent;display:block;max-width:100%;max-height:100%}#rowClearOverlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:55;border-radius:inherit}.cell-clear-overlay{position:absolute;pointer-events:none;will-change:transform,opacity,filter;border-radius:25%;opacity:1;z-index:10;background:linear-gradient(135deg,var(--color-dark-1, #14b8a6),var(--color-dark-2, #0f766e));box-shadow:0 4px 10px #0003,inset 1px 1px 2px var(--color-bevel-light, rgba(255,255,255,.2)),inset -1px -1px 2px var(--color-bevel-dark, rgba(0,0,0,.4));overflow:hidden}.cell-clear-overlay:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 42% 38%,var(--color-core-light, rgba(173, 255, 219, .8)) 0%,var(--color-core-mid, rgba(81, 238, 176, .5)) 25%,transparent 65%);mix-blend-mode:lighten;opacity:.95;pointer-events:none;z-index:1}.cell-clear-overlay:after{content:"";position:absolute;top:8%;left:11%;width:72%;height:16%;background:#ffffff91;clip-path:polygon(0% 25%,100% 0%,90% 100%,10% 100%);filter:blur(4px);box-shadow:inset 0 0 6px #fff9;border-radius:4px;pointer-events:none;z-index:3}.grid-cell[class*=filled-].cleared{position:relative;z-index:2;animation:cell-cleared-modern .7s cubic-bezier(.2,.9,.2,1) both;box-shadow:0 0 20px 6px var(--animation-color, rgba(255,215,0,.95)),0 0 40px 12px #ffffff0f;will-change:transform,box-shadow,filter,opacity}.grid-cell[class*=filled-].cleared:after{content:"";position:absolute;left:-10%;top:-10%;width:120%;height:120%;background:linear-gradient(120deg,#ffffff47,#ffffff0f 45%,#fff0 70%);transform:translate(-110%) skew(-8deg);opacity:0;pointer-events:none;mix-blend-mode:screen;animation:cleared-shine .7s ease-out both}@keyframes cell-cleared-modern{0%{transform:scale(1) translateY(0) rotate(0);opacity:1;filter:brightness(1);box-shadow:0 0 8px 2px #0000}25%{transform:scale(1.14) translateY(-8px) rotate(-1deg);filter:brightness(1.35) saturate(1.15);opacity:1}55%{transform:scale(1.04) translateY(-14px) rotate(1deg);filter:brightness(1.12)}to{transform:scale(1) translateY(0) rotate(0);opacity:1;filter:none}}@keyframes cleared-shine{0%{opacity:0;transform:translate(-110%) skew(-8deg)}30%{opacity:.95;transform:translate(10%) skew(-4deg)}to{opacity:0;transform:translate(120%) skew(0)}}@keyframes pulse{0%{opacity:.5}to{opacity:1}}.grid-cell[class*=filled-].pulse{animation:pulse .6s ease-out forwards}.ext-galaxy-clear-bar-container{position:absolute;height:var(--grid-cell-size);overflow:hidden;pointer-events:none;z-index:1000;border-radius:var(--grid-cell-radius, 10px)}.ext-galaxy-clear-bar-inner{position:relative;width:100%;height:100%;background:transparent;opacity:0;transform:scaleY(0);animation:ext-galaxy-barOpenClose 1s ease-out forwards;will-change:transform,opacity;border-radius:var(--grid-cell-radius, 10px);overflow:hidden}@keyframes ext-galaxy-barOpenClose{0%{opacity:1;transform:scaleY(.05)}30%{opacity:1;transform:scaleY(1)}70%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}.ext-galaxy-particle{position:absolute;border-radius:8px;opacity:0;z-index:1001;background-color:currentColor;box-shadow:0 0 12px currentColor;animation:ext-galaxy-particleMove 1.2s linear forwards;will-change:transform,opacity;pointer-events:none}@keyframes ext-galaxy-particleMove{0%{transform:translate(0) scale(.3);opacity:0}15%{opacity:1;transform:translate(var(--ext-dx-start),var(--ext-dy-start)) scale(1)}to{transform:translate(var(--ext-dx-end),var(--ext-dy-end)) scale(0);opacity:0}}.ext-galaxy-block-collapse{animation:ext-galaxy-blockCollapse 1s ease-in forwards!important;will-change:transform,opacity;position:relative!important;z-index:999!important;pointer-events:none!important;display:block!important}@keyframes ext-galaxy-blockCollapse{0%{transform:scale(1);opacity:1}to{transform:scale(0);opacity:0}}@media (prefers-reduced-motion: reduce){.ext-galaxy-clear-bar-inner,.ext-galaxy-particle,.ext-galaxy-block-collapse{animation:none!important;opacity:0!important}}.logo{position:relative;cursor:pointer;transition:all .3s ease;-webkit-user-select:none;user-select:none}.logo:hover{transform:scale(1.05);filter:drop-shadow(0 0 10px rgba(255,229,59,.6))}.color-burst-container{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:9999;overflow:hidden}.color-burst-particle{position:absolute;border-radius:50%;pointer-events:none;animation:color-burst-explosion 2s ease-out forwards}.color-burst-particle.small{width:8px;height:8px}.color-burst-particle.medium{width:12px;height:12px}.color-burst-particle.large{width:16px;height:16px}@keyframes color-burst-explosion{0%{transform:translate(-50%,-50%) scale(1);opacity:1}20%{transform:translate(calc(-50% + var(--end-x, 0px) * .3),calc(-50% + var(--end-y, 0px) * .3)) scale(1.2);opacity:1}60%{transform:translate(calc(-50% + var(--end-x, 0px) * .8),calc(-50% + var(--end-y, 0px) * .8)) scale(.8);opacity:.7}to{transform:translate(calc(-50% + var(--end-x, 0px)),calc(-50% + var(--end-y, 0px))) scale(.3);opacity:0}}.color-burst-sparkle{position:absolute;width:8px;height:8px;background:currentColor;border-radius:50%;pointer-events:none;animation:sparkle-twinkle 1.2s ease-in-out infinite}.color-burst-sparkle:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:12px;animation:sparkle-rotate 2s linear infinite}@keyframes sparkle-twinkle{0%,to{opacity:0;transform:translate(-50%,-50%) scale(.5)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}}@keyframes sparkle-rotate{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.rainbow-wave{position:fixed;top:0;left:-100%;width:300%;height:100vh;background:linear-gradient(90deg,transparent 0%,rgba(255,0,150,.3) 20%,rgba(255,105,0,.3) 30%,rgba(255,215,0,.3) 40%,rgba(0,191,255,.3) 50%,rgba(138,43,226,.3) 60%,rgba(50,205,50,.3) 70%,rgba(255,69,180,.3) 80%,transparent 100%);pointer-events:none;z-index:9998;animation:rainbow-sweep 1.5s ease-out forwards}@keyframes rainbow-sweep{0%{left:-100%}to{left:100%}}@keyframes click-bounce{0%{transform:scale(0) translateY(0);opacity:0}50%{transform:scale(1.2) translateY(-10px);opacity:1}to{transform:scale(1) translateY(-20px);opacity:0}}@keyframes color-burst-explosion{0%{opacity:1;transform:scale(0) rotate(0);filter:brightness(1.5) saturate(1.5)}20%{opacity:1;transform:scale(1.2) rotate(180deg);filter:brightness(2) saturate(2)}60%{opacity:.8;transform:scale(1) rotate(360deg);filter:brightness(1.2) saturate(1.2)}to{opacity:0;transform:scale(.3) rotate(720deg);filter:brightness(.5) saturate(.5)}}.color-burst-ripple{position:absolute;border:3px solid transparent;border-radius:50%;pointer-events:none;animation:color-burst-ripple 1.5s ease-out forwards}@keyframes color-burst-ripple{0%{width:0px;height:0px;opacity:1;border-color:#ffe53bcc}50%{opacity:.6;border-color:#ff69b499}to{width:300px;height:300px;opacity:0;border-color:#8a2be233}}.logo.color-burst-active{animation:logo-flash .8s ease-out}@keyframes logo-flash{0%{transform:scale(1);filter:brightness(1) saturate(1);text-shadow:0 0 5px rgba(255,229,59,.5)}25%{transform:scale(1.15);filter:brightness(1.8) saturate(1.8) hue-rotate(30deg);text-shadow:0 0 20px rgba(255,105,180,.8),0 0 40px rgba(138,43,226,.6)}50%{transform:scale(1.1);filter:brightness(2) saturate(2) hue-rotate(60deg);text-shadow:0 0 30px rgba(0,191,255,.9),0 0 60px rgba(255,215,0,.7)}75%{transform:scale(1.05);filter:brightness(1.5) saturate(1.5) hue-rotate(90deg);text-shadow:0 0 25px rgba(50,205,50,.8),0 0 50px rgba(255,69,0,.6)}to{transform:scale(1);filter:brightness(1) saturate(1) hue-rotate(0deg);text-shadow:0 0 10px rgba(255,229,59,.6)}}.color-burst-sparkle{position:absolute;width:4px;height:4px;background:#fff;border-radius:50%;pointer-events:none;animation:sparkle-trail 1.2s ease-out forwards}@keyframes sparkle-trail{0%{opacity:1;transform:scale(0);box-shadow:0 0 6px currentColor}30%{opacity:1;transform:scale(1.5);box-shadow:0 0 12px currentColor}to{opacity:0;transform:scale(.5);box-shadow:0 0 3px currentColor}}.rainbow-wave{position:fixed;top:0;left:-100%;width:200%;height:100vh;background:linear-gradient(90deg,transparent 0%,rgba(255,0,150,.1) 20%,rgba(255,105,180,.15) 25%,rgba(255,215,0,.2) 30%,rgba(0,191,255,.15) 35%,rgba(138,43,226,.1) 40%,transparent 60%);pointer-events:none;z-index:9998;animation:rainbow-sweep 1.5s ease-out forwards}@keyframes rainbow-sweep{0%{left:-100%;opacity:0}20%{opacity:1}80%{opacity:1}to{left:100%;opacity:0}}body:not([data-theme=dark]) .special-actions{background:linear-gradient(135deg,#2196f352,#a259f747,#00e6b438)!important;backdrop-filter:blur(22px) saturate(200%)!important;-webkit-backdrop-filter:blur(22px) saturate(200%)!important;box-shadow:0 8px 32px #2196f31a,0 1.5px #ffffff1a inset!important;border-radius:20px!important;border:2px solid rgba(255,255,255,.22)!important}@media (min-width: 601px){body:not([data-theme=dark]) .special-actions{max-width:520px!important;margin:0 auto 24px!important;left:0;right:0;display:flex!important;justify-content:center!important;align-items:center!important;padding-left:0!important;padding-right:0!important}}.special-actions{position:fixed;bottom:0!important;left:0;right:0;width:100%;z-index:10000;display:flex;justify-content:center;align-items:center;padding:12px;background:linear-gradient(180deg,transparent 0%,rgba(0,0,0,.15) 50%,rgba(0,0,0,.25) 100%);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);gap:4rem;min-height:3rem;border-radius:0;overflow:visible!important;pointer-events:auto;box-shadow:0 -4px 20px #0003;margin:0!important;transform:none!important}.action-btn{position:relative;width:32px;height:32px;background:linear-gradient(135deg,#8b5cf640,#8b5cf626);border:2px solid rgba(139,92,246,.4);border-radius:12px;outline:none;display:flex!important;align-items:center!important;justify-content:center!important;flex-direction:column;gap:2px;cursor:pointer;transition:all .3s cubic-bezier(.32,.08,.24,1);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 4px 12px #8b5cf633,inset 0 1px 1px #ffffff26,0 0 #8b5cf680;overflow:visible!important;pointer-events:auto}.action-btn:before{display:none!important}.shine-clip{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;border-radius:inherit;pointer-events:none;z-index:0;display:flex;justify-content:center;align-items:center}.shine-clip:before{content:"";position:absolute;top:0;left:-80%;width:80%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.15) 40%,rgba(255,255,255,.25) 50%,rgba(255,255,255,.15) 60%,transparent 100%);border-radius:inherit;pointer-events:none;opacity:0;transition:left .6s ease,opacity .3s ease}.action-btn:hover .shine-clip:before,.action-btn:active .shine-clip:before{opacity:1;left:120%}.action-btn i{font-size:1rem;color:#fffffff2;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;z-index:2;transition:all .3s ease;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));display:block;margin:0 auto;line-height:1}.action-btn:hover{background:linear-gradient(135deg,#8b5cf666,#8b5cf640);border-color:#8b5cf699;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #8b5cf659,inset 0 1px 1px #ffffff40,0 0 25px #8b5cf64d}.action-btn:hover i{transform:scale(1.12);filter:drop-shadow(0 0 10px rgba(255,255,255,.6))}.special-actions{pointer-events:auto!important;visibility:visible!important;opacity:1!important;display:flex!important}.special-actions.hidden{display:flex!important;visibility:visible!important;opacity:1!important}.action-btn:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 10px #8b5cf640,inset 0 2px 4px #0003}.badge{position:absolute;z-index:1002;top:-4px;right:-4px;background:linear-gradient(135deg,#2196f3,#a259f7);color:#fff;font-size:.55rem;width:1rem;height:1rem;padding:0;border-radius:50%;border:2px solid rgba(33,150,243,.7);text-align:center;display:flex!important;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 8px #2196f340,0 0 6px #a259f7aa,inset 0 1px 1px #ffffff2e;animation:badge-pulse 2s ease-in-out infinite}@keyframes badge-pulse{0%,to{transform:scale(1);box-shadow:0 2px 8px #ee5a6f80}50%{transform:scale(1.1);box-shadow:0 4px 12px #ee5a6fb3}}.action-btn:disabled{opacity:.4;cursor:not-allowed;background:linear-gradient(135deg,#64646426,#5050501a);border-color:#ffffff26}.action-btn:disabled:hover{transform:none;box-shadow:0 4px 12px #00000026,inset 0 1px 1px #ffffff1a}.action-btn:disabled i{filter:grayscale(1)}.special-actions.hidden{display:none!important}.game-container{overflow:visible!important}@media (min-width: 769px){.special-actions{gap:2rem;padding:16px}.action-btn{width:40px;height:40px;border-radius:14px}.action-btn i{font-size:1.2rem}.badge{width:1rem;height:1rem;font-size:.6rem;top:-5px;right:-5px}}@media (min-width: 769px){.special-actions{gap:6rem!important}}body:not([data-theme=dark]) .special-actions{background:linear-gradient(120deg,#a259f761,#6d28d952);backdrop-filter:blur(18px) saturate(180%);-webkit-backdrop-filter:blur(18px) saturate(180%);box-shadow:0 8px 32px #a259f71a,0 1.5px #ffffff1f inset;border-radius:18px;bottom:0!important;position:fixed!important}body[data-theme=dark] .special-actions{bottom:0!important;position:fixed!important}body:not([data-theme=dark]) .special-actions .action-btn{background:linear-gradient(135deg,#007aff,#0051a8);border-color:#0051a8;box-shadow:0 4px 16px #007aff2e,0 1px #ffffff38 inset;color:#fff!important;font-weight:700;text-shadow:0 2px 8px rgba(0,0,0,.1)}body:not([data-theme=dark]) .action-btn:hover{background:linear-gradient(135deg,#8b5cf680,#8b5cf64d);border-color:#8b5cf6b3}.action-btn.active,.action-btn.active-mode{background:linear-gradient(135deg,#8b5cf699,#8b5cf666);border-color:#8b5cf6cc;box-shadow:0 8px 16px #8b5cf64d,inset 0 1px 1px #ffffff4d,0 0 10px #8b5cf680!important}.action-btn.active i,.action-btn.active-mode i{color:#fff!important;filter:drop-shadow(0 0 8px rgba(255,255,255,.7))}body:not([data-theme=dark]) .action-btn.active,body:not([data-theme=dark]) .action-btn.active-mode{background:linear-gradient(135deg,#ff9800,#ff5722);border-color:#ff5722;box-shadow:0 8px 24px #ff98002e,0 0 0 2px #fff inset,0 0 10px #ff980080!important}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:9999;overflow:visible;overscroll-behavior:contain;touch-action:none}.modal-content.tutorial-modal{background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);padding:1rem;border-radius:20px;text-align:center;width:90%;max-width:400px;box-shadow:0 10px 30px #0000004d;animation:fadeInModal .3s forwards;animation-iteration-count:1;opacity:0}.modal-content.tutorial-modal h2{font-size:1.5rem;margin-bottom:.5rem;color:#a7f3d0}.block{width:30%;height:30%;position:absolute;border-radius:25%;background:linear-gradient(135deg,var(--color-dark-1,#2a7dcc),var(--color-dark-2,#164d85));box-shadow:0 2px 5px #0003,inset 1px 1px 2px var(--color-bevel-light,rgba(255,255,255,.2)),inset -1px -1px 2px var(--color-bevel-dark,rgba(0,0,0,.4));overflow:hidden}.block:before{content:"";position:absolute;top:-10%;left:-10%;width:120%;height:120%;background:radial-gradient(circle at 40% 40%,var(--color-core-light,rgba(255,255,255,.5)) 0%,var(--color-core-mid,rgba(255,255,255,.2)) 30%,transparent 60%);mix-blend-mode:lighten}.block:after{content:"";position:absolute;top:8%;left:11%;width:72%;height:16%;background:var(--color-highlight,rgba(255,255,255,.2));clip-path:polygon(0% 25%,100% 0%,90% 100%,10% 100%)}.tutorial-container{padding:1rem;overflow:visible}.tutorial-score{font-size:1.5rem;font-weight:900;margin-bottom:.5rem;transition:transform .3s ease,color .3s ease}.tutorial-score.updated{transform:scale(1.2);color:#facc15}.tutorial-grid{display:grid;grid-template-columns:repeat(10,1fr);width:100%;max-width:300px;margin:.5rem auto;aspect-ratio:1/1;background:#0003;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border-radius:12px;padding:6px;gap:4px;border:1px solid rgba(255,255,255,.1);overflow:visible}.tutorial-grid .grid-cell{position:relative;background:#0003;border-radius:6px;box-shadow:inset 0 2px 4px #0006;will-change:transform,opacity;transform:translateZ(0)}.tutorial-grid .grid-cell .block{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;transform:scale(.5);animation:placeBlock .3s ease forwards;animation-iteration-count:1}@keyframes placeBlock{to{opacity:1;transform:scale(1)}}.tutorial-grid .grid-cell .block.clearing{animation:clearBlockAnimation .5s ease-out forwards;animation-iteration-count:1}@keyframes clearBlockAnimation{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);box-shadow:0 0 15px #fff}to{transform:scale(0);opacity:0}}.tutorial-piece-area{height:70px;margin-top:1rem;display:flex;justify-content:center;align-items:center;position:relative;overflow:visible}.tutorial-piece{position:absolute;top:0;left:0;display:flex;gap:4px;width:112.8px;height:25.2px;transition:transform 1.5s cubic-bezier(.68,-.55,.27,1.55),opacity .5s ease;pointer-events:none;will-change:transform,opacity;transform:translateZ(0)}.tutorial-piece .block{width:25.2px;height:25.2px;position:relative;opacity:1;transform:scale(1)}.tutorial-finger{position:absolute;font-size:2.5rem;color:#facc15;opacity:0;transform:translateY(50px);transition:transform 1s ease,opacity .5s ease;pointer-events:none;will-change:transform,opacity;text-shadow:0 2px 5px rgba(0,0,0,.5);z-index:10}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;animation:fadeInModal .3s forwards;overflow:hidden;overscroll-behavior:contain;touch-action:none}.modal-content{background:linear-gradient(135deg,#2c5364,#203a43);padding:1rem;border-radius:20px;color:#fff;text-align:center;width:90%;max-width:400px;max-height:90vh;overflow-y:auto;border:1px solid rgba(255,255,255,.2);box-shadow:0 10px 30px #0000004d;transform:scale(.9);animation:zoomInModal .3s .1s forwards;display:flex;flex-direction:column}.modal-content.tutorial-modal{max-width:500px;padding:1.5rem}.modal-content h2{font-size:1.8rem;margin-bottom:1rem;color:#a7f3d0;font-weight:900}.modal-content p{margin-bottom:1rem;line-height:1.5;opacity:.9}.modal-close-btn{background:#14b8a6;box-shadow:0 5px #0f766e;border:none;padding:.8rem 1.5rem;border-radius:12px;color:#fff;font-family:Nunito,sans-serif;font-weight:900;cursor:pointer;transition:all .2s ease;margin-top:1rem}.modal-close-btn:hover{background:#10a392;transform:translateY(-2px)}.modal-close-btn:active{transform:translateY(3px);box-shadow:0 2px #0f766e}.no-scroll{overflow:hidden!important;height:100%}.tutorial-container{padding:1rem;flex:1;display:flex;flex-direction:column;align-items:center;overflow:auto;gap:1rem}.tutorial-score{font-size:1.5rem;font-weight:900;margin-bottom:.5rem;transition:transform .3s ease,color .3s ease;color:#fff}.tutorial-score.updated{transform:scale(1.3);color:#facc15;text-shadow:0 0 10px #facc15}.tutorial-grid{display:grid;grid-template-columns:repeat(10,1fr);grid-template-rows:repeat(10,1fr);width:100%;max-width:100%;flex:1;max-height:100%;aspect-ratio:1 / 1;box-sizing:border-box;background:#0000004d;border-radius:12px;padding:6px;gap:4px;border:1px solid rgba(255,255,255,.1);box-shadow:inset 0 2px 8px #0006;overflow:hidden;background-clip:padding-box}.tutorial-grid .grid-cell{position:relative;background:#0000004d;border-radius:4px;box-shadow:inset 0 1px 3px #00000080;border:1px solid rgba(255,255,255,.05);min-width:0;min-height:0;box-sizing:border-box;overflow:hidden}.tutorial-grid .grid-cell .block{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;transform:scale(.5);animation:placeBlock .3s ease forwards;border-radius:4px}.tutorial-grid .grid-cell .block.clearing{animation:clearBlockAnimation .8s ease-out forwards}.tutorial-piece-area{height:80px;margin-top:1rem;display:flex;justify-content:center;align-items:center;position:relative}.tutorial-piece{position:absolute;display:flex;gap:4px;width:124px;height:28px;transition:transform 1.5s cubic-bezier(.68,-.55,.27,1.55),opacity .5s ease;pointer-events:none}.tutorial-piece .block,.tutorial-piece .p-block{width:28px;height:28px;position:relative;opacity:1;transform:scale(1);border-radius:4px}.tutorial-finger{position:absolute;font-size:2.8rem;color:#facc15;opacity:0;transform:translateY(50px);transition:transform 1s ease,opacity .5s ease;pointer-events:none;text-shadow:0 3px 8px rgba(0,0,0,.7);z-index:10;filter:drop-shadow(0 0 5px #facc15)}@keyframes fadeInModal{to{opacity:1}}@keyframes zoomInModal{to{transform:scale(1)}}@keyframes placeBlock{0%{opacity:0;transform:scale(.5) rotate(45deg)}50%{opacity:1;transform:scale(1.1) rotate(0)}to{opacity:1;transform:scale(1) rotate(0)}}@keyframes clearBlockAnimation{0%{transform:scale(1);opacity:1;box-shadow:none}30%{transform:scale(1.15);box-shadow:0 0 20px #fff,0 0 30px #facc15;opacity:1}70%{transform:scale(1.05);box-shadow:0 0 15px #fff,0 0 25px #facc15;opacity:.8}to{transform:scale(0);opacity:0;box-shadow:none}}@keyframes tutorialPulse{0%,to{opacity:1}50%{opacity:.7}}@media (min-width: 768px){.modal-content.tutorial-modal{max-width:600px;padding:2rem}.tutorial-container{gap:1.5rem}.tutorial-score{font-size:1.8rem}.tutorial-grid{gap:6px;padding:8px}.tutorial-piece .block,.tutorial-piece .p-block{width:32px;height:32px}.tutorial-piece{width:140px;height:32px}.tutorial-finger{font-size:3.2rem}}:root{--ui-bg: rgba(0,0,0,.5);--ui-fg: #fff}.controls{position:fixed;inset:12px auto auto 12px;display:flex;gap:8px;z-index:10;background:var(--ui-bg);color:var(--ui-fg);padding:8px 10px;border-radius:10px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.controls button{border:0;padding:6px 10px;border-radius:8px;cursor:pointer}.controls button[data-active=true]{outline:2px solid #fff}body.landing-page .game-container .glow-effects,body.landing-page .game-container .floating-pieces,body.landing-page .game-container .stars,body.landing-page .game-container .particles-overlay,.game-container.paused .glow-effects,.game-container.paused .floating-pieces,.game-container.paused .stars,.game-container.paused .particles-overlay{display:none!important}.game-container{position:relative;overflow:hidden;min-height:100vh;isolation:isolate;z-index:0;background:radial-gradient(circle at 15% 20%,rgba(255,105,180,.6) 0%,transparent 45%),radial-gradient(circle at 80% 70%,rgba(255,215,0,.7) 0%,transparent 45%),radial-gradient(circle at 40% 85%,rgba(0,191,255,.7) 0%,transparent 45%),radial-gradient(circle at 65% 25%,rgba(138,43,226,.7) 0%,transparent 45%),linear-gradient(135deg,#ff0080,#ff8c00,gold,#00bfff)}body[data-theme=dark] .game-container{background:radial-gradient(circle at 15% 20%,rgba(135,206,235,.3) 0%,transparent 45%),radial-gradient(circle at 80% 70%,rgba(100,149,237,.4) 0%,transparent 45%),radial-gradient(circle at 40% 85%,rgba(72,61,139,.4) 0%,transparent 45%),radial-gradient(circle at 65% 25%,rgba(25,25,112,.5) 0%,transparent 45%),linear-gradient(135deg,#1a1a2e,#16213e,#0f3460,#16213e)}.game-container.has-ui:before{opacity:.04}.game-container:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(45deg,rgba(255,255,255,.1) 0px,rgba(255,255,255,.1) 2px,transparent 2px,transparent 4px),repeating-linear-gradient(-45deg,rgba(0,0,0,.1) 0px,rgba(0,0,0,.1) 2px,transparent 2px,transparent 4px);pointer-events:none;z-index:-3}.game-container .overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,.15) 0%,transparent 80%);pointer-events:none;z-index:-1}.game-container .glow-effects{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:-4}.game-container .glow{position:absolute;border-radius:50%;filter:blur(70px);opacity:.7;animation:glow-move 20s infinite alternate ease-in-out;width:clamp(150px,20vw,450px);height:clamp(150px,20vw,450px);will-change:transform,opacity;contain:layout style paint}.game-container .glow:nth-child(1){background:#ff149380;top:10%;left:10%;animation-delay:0s}.game-container .glow:nth-child(2){background:#ffd70080;bottom:15%;right:15%;animation-delay:5s}.game-container .glow:nth-child(3){background:#00bfff80;top:40%;left:30%;animation-delay:10s}.game-container .floating-pieces{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:-2}.game-container .puzzle-piece{position:absolute;width:clamp(35px,6vw,90px);height:clamp(35px,6vw,90px);border-radius:clamp(8px,1vw,18px);background:#fff3;transform:rotate(45deg);animation:float 18s infinite ease-in-out;box-shadow:0 10px 35px #0000004d,inset 0 1px #ffffff40,0 0 30px #fff3;border:2px solid rgba(255,255,255,.25);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);overflow:hidden;will-change:transform,opacity;contain:layout style paint}@supports not ((backdrop-filter: blur(6px)) or (-webkit-backdrop-filter: blur(6px))){.game-container .puzzle-piece{background:#ffffff47}}.game-container .puzzle-piece:before{content:"";position:absolute;width:clamp(10px,1.5vw,25px);height:clamp(10px,1.5vw,25px);border-radius:50%;background:radial-gradient(circle,#ffffff80,#fff3 70%);top:clamp(6px,1vw,15px);left:clamp(6px,1vw,15px);box-shadow:0 0 25px #ffffffb3;animation:pulse 3s infinite ease-in-out}.game-container .puzzle-piece:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.3),transparent);transform:rotate(45deg);animation:shine 7s infinite ease-in-out}.game-container .puzzle-piece:nth-child(1){top:12%;left:8%;animation-delay:0s;background:linear-gradient(135deg,#ff149399,#ff69b499)}.game-container .puzzle-piece:nth-child(2){top:22%;right:12%;animation-delay:3s;background:linear-gradient(135deg,#ff8c0099,#ffd70099)}.game-container .puzzle-piece:nth-child(3){bottom:18%;left:12%;animation-delay:6s;background:linear-gradient(135deg,#00bfff99,#1e90ff99)}.game-container .puzzle-piece:nth-child(4){bottom:28%;right:8%;animation-delay:9s;background:linear-gradient(135deg,#8a2be299,#9400d399)}.game-container .puzzle-piece:nth-child(5){top:42%;left:18%;animation-delay:12s;background:linear-gradient(135deg,#32cd3299,#00ff7f99)}.game-container .puzzle-piece:nth-child(6){top:58%;right:22%;animation-delay:15s;background:linear-gradient(135deg,#ff450099,#ffa50099)}.game-container .puzzle-piece:nth-child(7){top:30%;left:45%;animation-delay:18s;background:linear-gradient(135deg,#f009,#ff634799);width:clamp(35px,4.7vw,70px);height:clamp(35px,4.7vw,70px)}.game-container .puzzle-piece:nth-child(8){bottom:45%;right:35%;animation-delay:21s;background:linear-gradient(135deg,#ff149380,#8a2be280);width:clamp(35px,4vw,60px);height:clamp(35px,4vw,60px)}.game-container .puzzle-piece:nth-child(9){top:65%;left:35%;animation-delay:24s;background:linear-gradient(135deg,#0ff9,#00bfff99);width:clamp(35px,5.6vw,85px);height:clamp(35px,5.6vw,85px)}.game-container .puzzle-piece:nth-child(10){top:15%;left:65%;animation-delay:27s;background:linear-gradient(135deg,#ffd70099,#ff8c0099);width:clamp(35px,5vw,75px);height:clamp(35px,5vw,75px)}.game-container .stars{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:-6}.game-container .star{position:absolute;width:2px;height:2px;background-color:#fffffff2;border-radius:50%;animation:twinkle 5s infinite ease-in-out;box-shadow:0 0 15px #fffc}@keyframes float{0%,to{transform:translateY(0) rotate(45deg) scale(1)}25%{transform:translateY(-20px) rotate(50deg) scale(1.08)}50%{transform:translateY(15px) rotate(40deg) scale(.95)}75%{transform:translateY(-10px) rotate(55deg) scale(1.04)}}@keyframes pulse{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.3);opacity:1}}@keyframes shine{0%{transform:translate(-100%) rotate(45deg)}to{transform:translate(100%) rotate(45deg)}}@keyframes twinkle{0%,to{opacity:.5;transform:scale(1)}50%{opacity:1;transform:scale(1.4)}}@keyframes glow-move{0%,to{transform:translate(0) scale(1)}25%{transform:translate(50px,-40px) scale(1.2)}50%{transform:translate(-40px,50px) scale(.9)}75%{transform:translate(40px,40px) scale(1.1)}}@media (prefers-reduced-motion: reduce){.game-container *{animation:none!important;transition:none!important}}body[data-theme=dark] .game-container .puzzle-piece:nth-child(1){background:linear-gradient(135deg,#87ceeb99,#b0c4de99)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(2){background:linear-gradient(135deg,#6495ed99,#7b68ee99)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(3){background:linear-gradient(135deg,#483d8b99,#6a5acd99)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(4){background:linear-gradient(135deg,#19197099,#4169e199)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(5){background:linear-gradient(135deg,#4682b499,#5f9ea099)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(6){background:linear-gradient(135deg,#1e90ff99,#00bfff99)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(7){background:linear-gradient(135deg,#40e0d080,#48d1cc80)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(8){background:linear-gradient(135deg,#66cdaa80,#7fffd480)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(9){background:linear-gradient(135deg,#00ced199,#40e0d099)}body[data-theme=dark] .game-container .puzzle-piece:nth-child(10){background:linear-gradient(135deg,#87cefa99,#add8e699)}body[data-theme=dark] .game-container .glow:nth-child(1){background:radial-gradient(circle,rgba(135,206,235,.4) 0%,transparent 70%)}body[data-theme=dark] .game-container .glow:nth-child(2){background:radial-gradient(circle,rgba(100,149,237,.3) 0%,transparent 70%)}body[data-theme=dark] .game-container .glow:nth-child(3){background:radial-gradient(circle,rgba(72,61,139,.3) 0%,transparent 70%)}@media (prefers-color-scheme: dark){body:not([data-theme]) .game-container{background:radial-gradient(circle at 15% 20%,rgba(135,206,235,.3) 0%,transparent 45%),radial-gradient(circle at 80% 70%,rgba(100,149,237,.4) 0%,transparent 45%),radial-gradient(circle at 40% 85%,rgba(72,61,139,.4) 0%,transparent 45%),radial-gradient(circle at 65% 25%,rgba(25,25,112,.5) 0%,transparent 45%),linear-gradient(135deg,#1a1a2e,#16213e,#0f3460,#16213e)}}@media (min-width: 769px){.game-container .puzzle-piece{width:clamp(42px,3vw,60px)!important;height:clamp(42px,3vw,60px)!important;border-radius:clamp(8px,.8vw,14px)!important;will-change:transform,opacity}.game-container .puzzle-piece:nth-child(1){top:14%;left:18%}.game-container .puzzle-piece:nth-child(2){top:14%;left:50%}.game-container .puzzle-piece:nth-child(3){top:14%;left:82%}.game-container .puzzle-piece:nth-child(4){top:34%;left:18%}.game-container .puzzle-piece:nth-child(5){top:34%;left:50%}.game-container .puzzle-piece:nth-child(6){top:34%;left:82%}.game-container .puzzle-piece:nth-child(7){top:54%;left:18%}.game-container .puzzle-piece:nth-child(8){top:54%;left:50%}.game-container .puzzle-piece:nth-child(9){top:54%;left:82%}.game-container .puzzle-piece:nth-child(10){top:74%;left:50%}.game-container .puzzle-piece{z-index:-1;pointer-events:none}@supports (animation: float 18s){.game-container .puzzle-piece{animation-duration:22s}}@media (min-width: 1400px){.game-container .puzzle-piece:nth-child(1){left:12%}.game-container .puzzle-piece:nth-child(3){left:88%}.game-container .puzzle-piece:nth-child(7){left:12%}.game-container .puzzle-piece:nth-child(9){left:88%}}}
